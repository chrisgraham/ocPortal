<?php
return unserialize("a:6:{i:0;a:1:{i:0;a:5:{i:0;s:29:\"tcpfunc_JAVASCRIPT_VALIDATION\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}i:1;a:0:{}i:2;s:21:\"JAVASCRIPT_VALIDATION\";i:3;N;i:4;N;i:5;s:37416:\"\$TPL_FUNCS['tcpfunc_JAVASCRIPT_VALIDATION']=\" echo \\\"/* Validation code and other general code relating to forms */\\\\n\\\\nnew Image().src='\\\",\\n	ecv(\\\$cl,array(),0,\\\"IMG\\\",array(\\\"bottom/loading\\\",\\\"0\\\",\\\"default\\\")),\\n	\\\"'.replace(/^http:/\\\",\\n	',',\\n	\\\"window.location.protocol);\\\\n\\\\nfunction fix_form_enter_key(form)\\\\n{\\\\n	var submit=document.getElementById('submit_button');\\\\n	var inputs=form.getElementsByTagName('input');\\\\n	for (var i=0;i<inputs.length;i++)\\\\n	{\\\\n		if (((inputs[i].type=='text') || (inputs[i].type=='password'))\\\\n		 && (typeof submit.onclick!='undefined') && (submit.onclick)\\\\n		 && ((typeof inputs[i].onkeypress=='undefined') || (!inputs[i].onkeypress)))\\\\n			inputs[i].onkeypress=function(event) { if (!event) event=window.event; if (enter_pressed(event)) submit.onclick(); \\\",\\n	\\\"}\\\",\\n	\\\";\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction radioValue(radios)\\\\n{\\\\n	for (var i=0;i<radios.length;i++)\\\\n	{\\\\n		if (radios[i].checked) return radios[i].value;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	return '';\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction confirmDelete()\\\\n{\\\\n	return window.confirm(\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"ARE_YOU_SURE_DELETE\\\",array()),\\n	\\\"\\\\\\\");\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction setFieldError(theElement\\\",\\n	',',\\n	\\\"errorMsg)\\\\n{\\\\n	var errorElement=null;\\\\n	if (typeof theElement.name!='undefined')\\\\n	{\\\\n		var id=theElement.name;\\\\n		errorElement=document.getElementById('error_'+id);\\\\n		if (!errorElement)\\\\n		{\\\\n			if ((errorMsg=='') && (id.indexOf('_hour')!=-1) || (id.indexOf('_minute')!=-1)) return; // Do not blank out as day/month/year (which comes first) would have already done it\\\\n			errorElement=document.getElementById('error_'+id.replace(/\\\\\\\\_day\\\\\\\$/\\\",\\n	',',\\n	\\\"'').replace(/\\\\\\\\_month\\\\\\\$/\\\",\\n	',',\\n	\\\"'').replace(/\\\\\\\\_year\\\\\\\$/\\\",\\n	',',\\n	\\\"'').replace(/\\\\\\\\_hour\\\\\\\$/\\\",\\n	',',\\n	\\\"'').replace(/\\\\\\\\_minute\\\\\\\$/\\\",\\n	',',\\n	\\\"''));\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (errorElement)\\\\n		{\\\\n			errorElement.style.display=(errorMsg=='')?'none':'block';\\\\n			if (getInnerHTML(errorElement)!=escape_html(errorMsg))\\\\n			{\\\\n				setInnerHTML(errorElement\\\",\\n	',',\\n	\\\"'');\\\\n				if (errorMsg!='')\\\\n				{\\\\n					var msgNode=document.createTextNode(errorMsg);\\\\n					errorElement.appendChild(msgNode);\\\\n\\\\n					if (typeof window.nereidFade!='undefined')\\\\n					{\\\\n						setOpacity(errorElement\\\",\\n	',',\\n	\\\"0.0);\\\\n						nereidFade(errorElement\\\",\\n	',',\\n	\\\"100\\\",\\n	',',\\n	\\\"30\\\",\\n	',',\\n	\\\"4);\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	if ((typeof window.isWYSIWYGField!='undefined') && (isWYSIWYGField(theElement))) theElement=theElement.parentNode;\\\\n	if (errorMsg!='')\\\\n	{\\\\n		theElement.className=theElement.className+' input_erroneous';\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		theElement.className=theElement.className.replace(/( input_erroneous(\\\\\\\$| ))+/g\\\",\\n	',',\\n	\\\"' ');\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction try_to_simplify_iframe_form()\\\\n{\\\\n	var form_cat_selector=document.getElementById('main_form')\\\",\\n	',',\\n	\\\"i\\\",\\n	',',\\n	\\\"element\\\",\\n	',',\\n	\\\"count=0\\\",\\n	',',\\n	\\\"found\\\",\\n	',',\\n	\\\"foundButton;\\\\n	if (!form_cat_selector) return;\\\\n	var inputs=form_cat_selector.getElementsByTagName('input');\\\\n	var buttons=form_cat_selector.getElementsByTagName('button');\\\\n	var selects=form_cat_selector.getElementsByTagName('select');\\\\n	var textareas=form_cat_selector.getElementsByTagName('select');\\\\n	var elements=[];\\\\n	for (i=0;i<inputs.length;i++) elements.push(inputs[i]);\\\\n	for (i=0;i<buttons.length;i++) elements.push(buttons[i]);\\\\n	for (i=0;i<selects.length;i++) elements.push(selects[i]);\\\\n	for (i=0;i<textareas.length;i++) elements.push(textareas[i]);\\\\n	for (i=0;i<elements.length;i++)\\\\n	{\\\\n		element=elements[i];\\\\n		if (((element.nodeName.toLowerCase()=='input') && (element.getAttribute('type')!='hidden') && (element.getAttribute('type')!='button') && (element.getAttribute('type')!='image') && (element.getAttribute('type')!='submit')) || (element.nodeName.toLowerCase()=='select') || (element.nodeName.toLowerCase()=='textarea'))\\\\n		{\\\\n			found=element;\\\\n			count++;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (((element.nodeName.toLowerCase()=='input') && ((element.getAttribute('type')=='button') || (element.getAttribute('type')=='image') || (element.getAttribute('type')=='submit'))) || (element.nodeName.toLowerCase()=='button'))\\\\n		{\\\\n			foundButton=element;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	if ((count==1) && (found.nodeName.toLowerCase()=='select'))\\\\n	{\\\\n		var iframe=document.getElementById('iframe_under');\\\\n		found.onchange=function() {\\\\n			if (iframe)\\\\n			{\\\\n				if ((iframe.contentDocument) && (iframe.contentDocument.getElementsByTagName('form').length!=0))\\\\n				{\\\\n					if (!window.confirm('\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"Q_SURE_LOSE\\\",array()),\\n	\\\"')) return false;\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\\n			if (checkForm(form_cat_selector))\\\\n			{\\\\n				if (iframe) animateFrameLoad(iframe\\\",\\n	',',\\n	\\\"'iframe_under');\\\\n				form_cat_selector.submit();\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\\n			return true;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if ((found.getAttribute('size')>1) || (found.multiple)) found.onclick=found.onchange;\\\\n		if (iframe)\\\\n		{\\\\n			foundButton.style.display='none';\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction do_form_submit(form)\\\\n{\\\\n	if (!checkForm(form\\\",\\n	',',\\n	\\\"false)) return false;\\\\n\\\\n	if ((typeof form.old_action!='undefined') && (form.old_action)) form.setAttribute('action'\\\",\\n	',',\\n	\\\"form.old_action);\\\\n	if ((typeof form.old_target!='undefined') && (form.old_target)) form.setAttribute('target'\\\",\\n	',',\\n	\\\"form.old_target);\\\\n	if (!form.getAttribute('target')) form.setAttribute('target'\\\",\\n	',',\\n	\\\"'_top');\\\\n\\\\n	\\\",\\n	\\\"\\\\n	if (form.getAttribute('method').toLowerCase()=='get')\\\\n	{\\\\n   	var i=0\\\",\\n	',',\\n	\\\"name\\\",\\n	',',\\n	\\\"elements=[];\\\\n   	for (i=0;i<form.elements.length;i++)\\\\n   	{\\\\n   		elements.push(form.elements[i]);\\\\n   	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n   	for (i=0;i<elements.length;i++)\\\\n   	{\\\\n   		name=elements[i].name;\\\\n   		if ((name.substr(0\\\",\\n	',',\\n	\\\"11)=='label_for__') || (name.substr(0\\\",\\n	',',\\n	\\\"14)=='tick_on_form__') || (name.substr(0\\\",\\n	',',\\n	\\\"9)=='comcode__') || (name.substr(0\\\",\\n	',',\\n	\\\"9)=='require__'))\\\\n   		{\\\\n   			elements[i].parentNode.removeChild(elements[i]);\\\\n   		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n   	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	if (form.onsubmit)\\\\n	{\\\\n		var ret=form.onsubmit();\\\\n		if (!ret) return false;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	if ((typeof window.just_checking_requirements=='undefined') || (!window.just_checking_requirements)) form.submit();\\\\n	\\\\n	disable_buttons_just_clicked(document.getElementsByTagName('input'));\\\\n	disable_buttons_just_clicked(document.getElementsByTagName('button'));\\\\n\\\\n	return true;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction disable_buttons_just_clicked(inputs)\\\\n{\\\\n	for (var i=0;i<inputs.length;i++)\\\\n	{\\\\n		if ((inputs[i].nodeName.toLowerCase()=='button') || (inputs[i].type=='image') || (inputs[i].type=='submit') || (inputs[i].type=='button'))\\\\n		{\\\\n			if (inputs[i].getAttribute('accesskey')=='u') /* Identifies submit button */\\\\n			{\\\\n				if ((!inputs[i].disabled) && (!inputs[i].under_timer)) /* We do not want to interfere with other code potentially operating */\\\\n				{\\\\n					disable_button_just_clicked(inputs[i]);\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction do_form_preview(form\\\",\\n	',',\\n	\\\"preview_url\\\",\\n	',',\\n	\\\"has_separate_preview)\\\\n{\\\\n	if ((window.checkForm) && (!checkForm(form\\\",\\n	',',\\n	\\\"true))) return false;\\\\n\\\\n	var old_action=form.getAttribute('action');\\\\n\\\\n	if ((has_separate_preview) || (window.has_separate_preview))\\\\n	{\\\\n		form.setAttribute('action'\\\",\\n	',',\\n	\\\"old_action+'&preview=1');\\\\n		return true;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	if (!form.old_action) form.old_action=old_action;\\\\n	form.setAttribute('action'\\\",\\n	',',\\n	\\\"maintain_theme_in_link(preview_url)+((form.old_action.indexOf('&uploading=1')!=-1)?'&uploading=1':''));\\\\n	var old_target=form.getAttribute('target');\\\\n	if (!old_target) old_target='_top'; \\\",\\n	\\\"\\\\n	if (!form.old_target) form.old_target=old_target;\\\\n	form.setAttribute('target'\\\",\\n	',',\\n	\\\"'preview_iframe');\\\\n	document.getElementById('submit_button').style.display='inline';\\\\n	//window.setInterval('resizeFrame(\\\\\\\\'preview_iframe\\\\\\\\'\\\",\\n	',',\\n	\\\"'+(window.top.scrollY+window.top.getWindowHeight())+')'\\\",\\n	',',\\n	\\\"1500);\\\\n	var pf=document.getElementById('preview_iframe');\\\\n\\\\n	\\\",\\n	\\\"\\\\n	window.setInterval(trigger_resize\\\",\\n	',',\\n	\\\"500);  \\\",\\n	\\\"\\\\n	animateFrameLoad(pf\\\",\\n	',',\\n	\\\"'preview_iframe'\\\",\\n	',',\\n	\\\"50);\\\\n\\\\n	/* input.value not readable on most modern web browsers\\\",\\n	',',\\n	\\\" and this code is not maintained\\\\n	var inputs=form.elements\\\",\\n	',',\\n	\\\"input;\\\\n	for (var i=0;i<inputs.length-1;i++)\\\\n	{\\\\n		input=inputs[i];\\\\n		if ((input.type=='file') && (!input.name.match(/file\\\\\\\\d*\\\\\\\$/)) && (input.className.indexOf('previews')==-1) && (!input.disabled) && (input.value!=''))\\\\n		{\\\\n			input.disabled=true;\\\\n			window.setTimeout('document.getElementById(\\\\\\\\''+input.id+'\\\\\\\\').disabled=false;'\\\",\\n	',',\\n	\\\"500);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"*/\\\\n\\\\n	return true;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction cleverFindValue(theForm\\\",\\n	',',\\n	\\\"theElement)\\\\n{\\\\n	var myValue=(typeof window.getTextbox=='undefined')?theElement.value:getTextbox(theElement);\\\\n	if (theElement.getAttribute('type')=='radio')\\\\n	{\\\\n		myValue='';\\\\n		for (var i=0;i<theForm.elements.length;i++)\\\\n		{\\\\n			if ((theForm.elements[i].checked) && (theForm.elements[i].name==theElement.name))\\\\n				myValue=theForm.elements[i].value;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	if ((theElement.nodeName.toLowerCase()=='select') && (theElement.selectedIndex>=0))\\\\n	{\\\\n		myValue=theElement.options[theElement.selectedIndex].value;\\\\n		if ((myValue=='') && (theElement.getAttribute('size')>1)) myValue='-1'; // Fudge\\\",\\n	',',\\n	\\\" as we have selected something explicitly that is blank\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	if (myValue===null) myValue='';\\\\n	return myValue;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction checkField(theElement\\\",\\n	',',\\n	\\\"theForm\\\",\\n	',',\\n	\\\"forPreview)\\\\n{\\\\n	var i\\\",\\n	',',\\n	\\\"theClass\\\",\\n	',',\\n	\\\"required\\\",\\n	',',\\n	\\\"myValue\\\",\\n	',',\\n	\\\"erroneous=false\\\",\\n	',',\\n	\\\"errorMsg=''\\\",\\n	',',\\n	\\\"regexp\\\",\\n	',',\\n	\\\"totalFileSize=0\\\",\\n	',',\\n	\\\"alerted=false\\\",\\n	',',\\n	\\\"errorElement=null;\\\\n\\\\n	if (((theElement.type=='hidden') || ((theElement.style.display=='none') && ((typeof window.isWYSIWYGField=='undefined') || (!isWYSIWYGField(theElement))))) && ((!theElement.className) || (theElement.className.indexOf('hidden_but_needed')==-1)))\\\\n	{\\\\n		return null;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	// Test file sizes\\\\n	if ((theElement.type=='file') && (theElement.files) && (theElement.files.item) && (theElement.files.item(0)) && (theElement.files.item(0).fileSize))\\\\n		totalFileSize+=theElement.files.item(0).fileSize;\\\\n\\\\n	// Test file types\\\\n	if ((theElement.type=='file') && (theElement.value) && (theElement.name!='file_novalidate'))\\\\n	{\\\\n		var valid_types='\\\",\\n	ecv(\\\$cl,array(2),0,\\\"VALID_FILE_TYPES\\\",array()),\\n	\\\"'.split(/\\\",\\n	',',\\n	\\\"/);\\\\n		var type_ok=false;\\\\n		var theFileType=theElement.value.indexOf('.')?theElement.value.substr(theElement.value.lastIndexOf('.')+1):'\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"NONE\\\",array()),\\n	\\\"';\\\\n		for (var k=0;k<valid_types.length;k++)\\\\n		{\\\\n			if (valid_types[k].toLowerCase()==theFileType.toLowerCase()) type_ok=true;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (!type_ok)\\\\n		{\\\\n			errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"INVALID_FILE_TYPE\\\",array(\\\"xx1xx\\\",ecv(\\\$cl,array(),0,\\\"VALID_FILE_TYPES\\\",array()))),\\n	\\\"\\\\\\\".replace(/xx1xx/g\\\",\\n	',',\\n	\\\"theFileType).replace(/<[^>]*>/g\\\",\\n	',',\\n	\\\"'').replace(/&[lr][sd]quo;/g\\\",\\n	',',\\n	\\\"\\\\\\\"'\\\\\\\").replace(/\\\",\\n	',',\\n	\\\"/g\\\",\\n	',',\\n	\\\"'\\\",\\n	',',\\n	\\\" ');\\\\n			if (!alerted) window.alert(errorMsg);\\\\n			alerted=true;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	// Fix up bad characters\\\\n	if ((browser_matches('ie')) && (theElement.value) && (theElement.nodeName.toLowerCase()!='select'))\\\\n	{\\\\n		bad_word_chars=[8216\\\",\\n	',',\\n	\\\"8217\\\",\\n	',',\\n	\\\"8220\\\",\\n	',',\\n	\\\"8221];\\\\n		fixed_word_chars=[\\\\\\\"'\\\\\\\"\\\",\\n	',',\\n	\\\"\\\\\\\"'\\\\\\\"\\\",\\n	',',\\n	\\\"'\\\\\\\"'\\\",\\n	',',\\n	\\\"'\\\\\\\"'];\\\\n		for (i=0;i<bad_word_chars.length;i++)\\\\n		{\\\\n			regexp=new RegExp(String.fromCharCode(bad_word_chars[i])\\\",\\n	',',\\n	\\\"'gm');\\\\n			theElement.value=theElement.value.replace(regexp\\\",\\n	',',\\n	\\\"fixed_word_chars[i]);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	theClass=firstClassName(theElement.className);\\\\n\\\\n	if ((!forPreview) && (theElement.name=='delete') && (((theClass=='input_radio') && (theElement.value!='0')) || (theClass=='input_tick')) && (theElement.checked)) {\\\\n		erroneous = !confirmDelete();\\\\n			return [erroneous\\\",\\n	',',\\n	\\\"theElement\\\",\\n	',',\\n	\\\"0\\\",\\n	',',\\n	\\\"true]; // Because we're deleting\\\",\\n	',',\\n	\\\" errors do not matter\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	// Find whether field is required and value of it\\\\n	required=theElement.className.indexOf('_required');\\\\n	myValue=cleverFindValue(theForm\\\",\\n	',',\\n	\\\"theElement);\\\\n\\\\n	if ((required!=-1) && ((myValue.replace(/&nbsp;/g\\\",\\n	',',\\n	\\\"' ').replace(/<br\\\\\\\\s*\\\\\\\\/?>/g\\\",\\n	',',\\n	\\\"' ').replace(/\\\\\\\\s/g\\\",\\n	',',\\n	\\\"'')=='') || (myValue=='****')))\\\\n	{\\\\n		errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"REQUIRED_NOT_FILLED_IN\\\",array()),\\n	\\\"\\\\\\\";\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		if ((theElement.className.indexOf('date')!=-1) && (theElement.name.match(/\\\\\\\\_(day|month|year)\\\\\\\$/)) && (myValue!=''))\\\\n		{\\\\n			var day=theForm.elements[theElement.name.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_day')].options[theForm.elements[theElement.name.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_day')].selectedIndex].value;\\\\n			var month=theForm.elements[theElement.name.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_month')].options[theForm.elements[theElement.name.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_month')].selectedIndex].value;\\\\n			var year=theForm.elements[theElement.name.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_year')].options[theForm.elements[theElement.name.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_year')].selectedIndex].value;\\\\n			var source_date=new Date(year\\\",\\n	',',\\n	\\\"month-1\\\",\\n	',',\\n	\\\"day);\\\\n			if (year!=source_date.getFullYear()) errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"NOT_A_DATE\\\",array()),\\n	\\\"\\\\\\\";\\\\n			if (month!=source_date.getMonth()+1) errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"NOT_A_DATE\\\",array()),\\n	\\\"\\\\\\\";\\\\n			if (day!=source_date.getDate()) errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"NOT_A_DATE\\\",array()),\\n	\\\"\\\\\\\";\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (((theClass=='input_email') || (theClass=='input_email_required')) && (myValue!='') && (myValue!='****') && (!myValue.match(/^[a-zA-Z0-9\\\\\\\\._\\\\\\\\-\\\\\\\\+]+@[a-zA-Z0-9\\\\\\\\._\\\\\\\\-]+\\\\\\\$/)))\\\\n		{\\\\n			errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"NOT_A_EMAIL\\\",array()),\\n	\\\"\\\\\\\".replace('xxx'\\\",\\n	',',\\n	\\\"myValue);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (((theClass=='input_username') || (theClass=='input_username_required')) && (myValue!='') && (myValue!='****') && (window.do_ajax_field_test) && (!do_ajax_field_test('\\\",\\n	ecv(\\\$cl,array(2),0,\\\"FIND_SCRIPT_NOHTTP\\\",array(\\\"username_exists\\\")),\\n	\\\"?username='+encodeURIComponent(myValue))))\\\\n		{\\\\n			errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"NOT_USERNAME\\\",array()),\\n	\\\"\\\\\\\".replace('xxx'\\\",\\n	',',\\n	\\\"myValue);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (((theClass=='input_integer') || (theClass=='input_integer_required')) && (myValue!='') && (myValue!='****') && (parseInt(myValue\\\",\\n	',',\\n	\\\"10)!=myValue-0))\\\\n		{\\\\n			errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"NOT_INTEGER\\\",array()),\\n	\\\"\\\\\\\".replace('xxx'\\\",\\n	',',\\n	\\\"myValue);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (((theClass=='input_float') || (theClass=='input_float_required')) && (myValue!='') && (myValue!='****') && (parseFloat(myValue)!=myValue-0))\\\\n		{\\\\n			errorMsg=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"NOT_FLOAT\\\",array()),\\n	\\\"\\\\\\\".replace('xxx'\\\",\\n	',',\\n	\\\"myValue);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	setFieldError(theElement\\\",\\n	',',\\n	\\\"errorMsg);\\\\n	if ((errorMsg!='') && (!erroneous))\\\\n	{\\\\n		erroneous=true;\\\\n		errorElement=theElement;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\\n	return [erroneous\\\",\\n	',',\\n	\\\"errorElement\\\",\\n	',',\\n	\\\"totalFileSize\\\",\\n	',',\\n	\\\"alerted];\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction checkForm(theForm\\\",\\n	',',\\n	\\\"forPreview)\\\\n{\\\\n	var j\\\",\\n	',',\\n	\\\"theElement\\\",\\n	',',\\n	\\\"erroneous=false\\\",\\n	',',\\n	\\\"totalFileSize=0\\\",\\n	',',\\n	\\\"alerted=false\\\",\\n	',',\\n	\\\"errorElement=null\\\",\\n	',',\\n	\\\"checkResult;\\\\n	for (j=0;j<theForm.elements.length;j++)\\\\n	{\\\\n		if (!theForm.elements[j]) continue;\\\\n		\\\\n		if (theForm.elements[j].nodeName.toLowerCase()=='object') continue; // IE9 being weird!\\\\n\\\\n		theElement=theForm.elements[j];\\\\n\\\\n		checkResult=checkField(theElement\\\",\\n	',',\\n	\\\"theForm\\\",\\n	',',\\n	\\\"forPreview);\\\\n		if (checkResult!=null)\\\\n		{\\\\n			erroneous=checkResult[0] | erroneous;\\\\n			if (!errorElement) errorElement=checkResult[1];\\\\n			totalFileSize+=checkResult[2];\\\\n			alerted=checkResult[3] | alerted;\\\\n			\\\\n			if (checkResult[0])\\\\n			{\\\\n				theElement.onblur=function(theElement) { return function(event\\\",\\n	',',\\n	\\\"no_recurse) {\\\\n					var checkResult=checkField(theElement\\\",\\n	',',\\n	\\\"theForm\\\",\\n	',',\\n	\\\"forPreview);\\\\n					if ((checkResult!=null) && (!checkResult[0]))\\\\n					{\\\\n						setFieldError(theElement\\\",\\n	',',\\n	\\\"'');\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n					if ((!no_recurse) && (theElement.className.indexOf('date')!=-1) && (theElement.name.match(/\\\\\\\\_(day|month|year)\\\\\\\$/)))\\\\n					{\\\\n						var e=document.getElementById(theElement.id.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_day'));\\\\n						if (e!=theElement) e.onblur(event\\\",\\n	',',\\n	\\\"true);\\\\n						var e=document.getElementById(theElement.id.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_month'));\\\\n						if (e!=theElement) e.onblur(event\\\",\\n	',',\\n	\\\"true);\\\\n						var e=document.getElementById(theElement.id.replace(/\\\\\\\\_(day|month|year)\\\\\\\$/\\\",\\n	',',\\n	\\\"'_year'));\\\\n						if (e!=theElement) e.onblur(event\\\",\\n	',',\\n	\\\"true);\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	\\\"}\\\",\\n	\\\"(theElement);\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\\n	if ((totalFileSize>0) && (theForm.elements['MAX_FILE_SIZE']))\\\\n	{\\\\n		if (totalFileSize>theForm.elements['MAX_FILE_SIZE'].value)\\\\n		{\\\\n			if (!erroneous)\\\\n			{\\\\n				errorElement=theElement;\\\\n				erroneous=true;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			if (!alerted)\\\\n			{\\\\n				window.alert(\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"TOO_MUCH_FILE_DATA\\\",array()),\\n	\\\"\\\\\\\".replace(new RegExp('\\\\\\\\\\\\\\\\\\\\\\\\{'+'1'+'\\\\\\\\\\\\\\\\\\\\\\\\}'\\\",\\n	',',\\n	\\\"'g')\\\",\\n	',',\\n	\\\"Math.round(totalFileSize/1024)).replace(new RegExp('\\\\\\\\\\\\\\\\\\\\\\\\{'+'2'+'\\\\\\\\\\\\\\\\\\\\\\\\}'\\\",\\n	',',\\n	\\\"'g')\\\",\\n	',',\\n	\\\"Math.round(theForm.elements['MAX_FILE_SIZE'].value/1024)));\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			alerted=true;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	if (erroneous)\\\\n	{\\\\n		if (!alerted) window.alert(\\\\\\\"\\\",\\n	ecv(\\\$cl,array(8,3),2,\\\"IMPROPERLY_FILLED_IN\\\",array()),\\n	\\\"\\\\\\\");\\\\n		var posy=findPosY(errorElement\\\",\\n	',',\\n	\\\"true);\\\\n		if (posy==0)\\\\n		{\\\\n			posy=findPosY(errorElement.parentNode\\\",\\n	',',\\n	\\\"true);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n		if (posy!=0)\\\\n			smoothScroll(posy-50\\\",\\n	',',\\n	\\\"null\\\",\\n	',',\\n	\\\"null\\\",\\n	',',\\n	\\\"function() { try { errorElement.focus(); \\\",\\n	\\\"}\\\",\\n	\\\" catch(e) {\\\",\\n	\\\"}\\\",\\n	\\\"; /* Can have exception giving focus on IE for invisible fields */ \\\",\\n	\\\"}\\\",\\n	\\\" );\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	return !erroneous;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n// Do dynamic setLocked/setRequired such that one of these must be set\\\",\\n	',',\\n	\\\" but only one may be\\\\nfunction standardAlternateFields(_a\\\",\\n	',',\\n	\\\"_b\\\",\\n	',',\\n	\\\"_c\\\",\\n	',',\\n	\\\"non_actually_required)\\\\n{\\\\n	if (!non_actually_required) non_actually_required=false; // Just to make sure it's a nice boolean\\\\n\\\\n	// Get field objects\\\\n	var a=_standardAlternateFieldsGet(_a);\\\\n	var b=_standardAlternateFieldsGet(_b);\\\\n	var c;\\\\n	if (_c) c=_standardAlternateFieldsGet(_c); // Third alternate is optional\\\\n\\\\n	// Set up listening if not already...\\\\n	if (((a) && (!a.alternating)) || ((b) && (!b.alternating)) || ((c) && (!c.alternating))) // It is actually allowed for a single alternator\\\",\\n	',',\\n	\\\" if circumstances have made the other one non-present (such as having GD support meaning a thumbnail isn't needed)\\\\n	{\\\\n		var selfFunction=function (e) { standardAlternateFields(_a\\\",\\n	',',\\n	\\\"_b\\\",\\n	',',\\n	\\\"_c\\\",\\n	',',\\n	\\\"non_actually_required); \\\",\\n	\\\"}\\\",\\n	\\\" ; // We'll re-call ourself to do any fiddling\\\\n\\\\n		_standardAlternateFieldEventSet(a\\\",\\n	',',\\n	\\\"selfFunction);\\\\n		_standardAlternateFieldEventSet(b\\\",\\n	',',\\n	\\\"selfFunction);\\\\n		_standardAlternateFieldEventSet(c\\\",\\n	',',\\n	\\\"selfFunction);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	// Now\\\",\\n	',',\\n	\\\" look at what is set\\\",\\n	',',\\n	\\\" and disable/enable/require/non-require appropriately\\\\n	if ((a) && (((a.value!='') && (a.value!='-1')) || ((a.virtual_value) && (a.virtual_value!='') && (a.virtual_value!='-1'))))\\\\n		return _standardAlternateFieldsSet(a\\\",\\n	',',\\n	\\\"b\\\",\\n	',',\\n	\\\"c\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n	if ((b) && (((b.value!='') && (b.value!='-1')) || ((b.virtual_value) && (b.virtual_value!='') && (b.virtual_value!='-1'))))\\\\n		return _standardAlternateFieldsSet(b\\\",\\n	',',\\n	\\\"a\\\",\\n	',',\\n	\\\"c\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n	if ((c) && (((c.value!='') && (c.value!='-1')) || ((c.virtual_value) && (c.virtual_value!='') && (c.virtual_value!='-1'))))\\\\n		return _standardAlternateFieldsSet(c\\\",\\n	',',\\n	\\\"a\\\",\\n	',',\\n	\\\"b\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n	// Nothing set...\\\\n	if (a) _standardAlternateFieldSet(a\\\",\\n	',',\\n	\\\"null\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"true\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n	if (b) _standardAlternateFieldSet(b\\\",\\n	',',\\n	\\\"null\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"true\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n	if (c) _standardAlternateFieldSet(c\\\",\\n	',',\\n	\\\"null\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"true\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n	return null;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction _standardAlternateFieldEventSet(a\\\",\\n	',',\\n	\\\"selfFunction)\\\\n{\\\\n	if (a)\\\\n	{\\\\n		if (typeof a.name!='undefined')\\\\n		{\\\\n			addEventListenerAbstract(a\\\",\\n	',',\\n	\\\"\\\\\\\"keyup\\\\\\\"\\\",\\n	',',\\n	\\\"selfFunction);\\\\n			addEventListenerAbstract(a\\\",\\n	',',\\n	\\\"\\\\\\\"change\\\\\\\"\\\",\\n	',',\\n	\\\"selfFunction);\\\\n			a.fakeonchange=selfFunction;\\\\n			a.alternating=true;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n		{\\\\n			var i;\\\\n			for (i=0;i<a.length;i++)\\\\n			{\\\\n				addEventListenerAbstract(a[i]\\\",\\n	',',\\n	\\\"\\\\\\\"keyup\\\\\\\"\\\",\\n	',',\\n	\\\"selfFunction);\\\\n				addEventListenerAbstract(a[i]\\\",\\n	',',\\n	\\\"\\\\\\\"change\\\\\\\"\\\",\\n	',',\\n	\\\"selfFunction);\\\\n				a[i].fakeonchange=selfFunction;\\\\n				a[i].alternating=true;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			a.alternating=true;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	return null;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction _standardAlternateFieldsGet(x)\\\\n{\\\\n	if (x.indexOf('*')==-1) // A normal field\\\\n	{\\\\n		return document.getElementById(x);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\\n	// A radio field ('*')\\\",\\n	',',\\n	\\\" so we need to create a virtual field object to return that will hold our value\\\\n	x=x.substr(0\\\",\\n	',',\\n	\\\"x.length-1);\\\\n	var _x=[]\\\",\\n	',',\\n	\\\"i\\\",\\n	',',\\n	\\\"j\\\",\\n	',',\\n	\\\"c=0\\\",\\n	',',\\n	\\\"e;\\\\n	_x['value']='';\\\\n	for (i=0;i<document.forms.length;i++)\\\\n	{\\\\n		for (j=0;j<document.forms[i].elements.length;j++)\\\\n		{\\\\n			e=document.forms[i].elements[j];\\\\n			if (e.name==x)\\\\n			{\\\\n				_x[c]=e;\\\\n				if (e.checked) // This is the checked radio equivalent to our text field\\\",\\n	',',\\n	\\\" copy the value through to the text field\\\\n				{\\\\n					_x['value']=e.value;\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				if (e.alternating) _x.alternating=true;\\\\n				c++;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	return _x;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n/*\\\\nFor this function...\\\\na is what is chosen\\\\nb is what was not chosen [or null if not so many choices]\\\\nc is what was not chosen [or null if not so many choices]\\\\n*/\\\\nfunction _standardAlternateFieldsSet(a\\\",\\n	',',\\n	\\\"b\\\",\\n	',',\\n	\\\"c\\\",\\n	',',\\n	\\\"non_actually_required)\\\\n{\\\\n	if (a) _standardAlternateFieldSet(a\\\",\\n	',',\\n	\\\"a\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"true\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n	if (b) _standardAlternateFieldSet(b\\\",\\n	',',\\n	\\\"a\\\",\\n	',',\\n	\\\"true\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n	if (c) _standardAlternateFieldSet(c\\\",\\n	',',\\n	\\\"a\\\",\\n	',',\\n	\\\"true\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"non_actually_required);\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n/*\\\\nSelected may only be null if locked is false\\\\n*/\\\\nfunction _standardAlternateFieldSet(us\\\",\\n	',',\\n	\\\"selected\\\",\\n	',',\\n	\\\"locked\\\",\\n	',',\\n	\\\"required\\\",\\n	',',\\n	\\\"non_actually_required)\\\\n{\\\\n	if (typeof us.name!='undefined')\\\\n	{\\\\n		setLocked(us.name\\\",\\n	',',\\n	\\\"locked\\\",\\n	',',\\n	\\\"selected);\\\\n		if (!non_actually_required) setRequired(us.name\\\",\\n	',',\\n	\\\"required);\\\\n		var tr=us;\\\\n		while ((tr) && (tr.nodeName.toLowerCase()!='tr'))\\\\n		{\\\\n			tr=tr.parentNode;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if ((tr) && (tr.nodeName.toLowerCase()=='tr'))\\\\n			setOpacity(tr\\\",\\n	',',\\n	\\\"locked?0.3:1.0);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		if (us[0])\\\\n		{\\\\n			if (!non_actually_required) setRequired(us[0].name\\\",\\n	',',\\n	\\\"required);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n		var i;\\\\n		for (i=0;i<us.length;i++)\\\\n		{\\\\n			if (us[i].id) // If it is an object\\\",\\n	',',\\n	\\\" as opposed to some string in the collection\\\\n			{\\\\n				setLocked(us[i].id\\\",\\n	',',\\n	\\\"locked\\\",\\n	',',\\n	\\\"selected);\\\\n				if (!non_actually_required) setRequired(us[i].id\\\",\\n	',',\\n	\\\"required);\\\\n				var tr=us[i];\\\\n				while ((tr) && (tr.nodeName.toLowerCase()!='tr'))\\\\n				{\\\\n					tr=tr.parentNode;\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				if ((tr) && (tr.nodeName.toLowerCase()=='tr'))\\\\n					setOpacity(tr\\\",\\n	',',\\n	\\\"locked?0.3:1.0);\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction setLocked(name\\\",\\n	',',\\n	\\\"locked\\\",\\n	',',\\n	\\\"selected)\\\\n{\\\\n	// For All-and-not\\\",\\n	',',\\n	\\\"Line-multi\\\",\\n	',',\\n	\\\"Compound-Tick\\\",\\n	',',\\n	\\\"Radio-List\\\",\\n	',',\\n	\\\"Date/Time: setLocked assumes that the calling code is clever\\\\n	// special input types are coded to observe their master input field readonly status)\\\\n	var element=document.getElementById(name);\\\\n	if (element)\\\\n	{\\\\n		if (locked)\\\\n		{\\\\n			var labels=document.getElementsByTagName('label')\\\",\\n	',',\\n	\\\"label=null;\\\\n			for (var i=0;i<labels.length;i++)\\\\n			{\\\\n				if (labels[i].getAttribute('for')==selected.id)\\\\n				{\\\\n					label=labels[i];\\\\n					break;\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			if (label)\\\\n			{\\\\n				var label_nice=getInnerHTML(label).replace('&raquo;'\\\",\\n	',',\\n	\\\"'').replace('»'\\\",\\n	',',\\n	\\\"'').replace(/^\\\\\\\\s*/\\\",\\n	',',\\n	\\\"'').replace(/\\\\\\\\s*\\\\\\\$/\\\",\\n	',',\\n	\\\"'');\\\\n				if (element.type=='file')\\\\n				{\\\\n					setFieldError(element\\\",\\n	',',\\n	\\\"'\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"DISABLED_FORM_FIELD_ENCHANCEDMSG_UPLOAD\\\",array()),\\n	\\\"'.replace(/\\\\\\\\{1\\\\\\\\}/\\\",\\n	',',\\n	\\\"label_nice));\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n				{\\\\n					setFieldError(element\\\",\\n	',',\\n	\\\"'\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"DISABLED_FORM_FIELD_ENCHANCEDMSG\\\",array()),\\n	\\\"'.replace(/\\\\\\\\{1\\\\\\\\}/\\\",\\n	',',\\n	\\\"label_nice));\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n			{\\\\n				setFieldError(element\\\",\\n	',',\\n	\\\"'\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"DISABLED_FORM_FIELD\\\",array()),\\n	\\\"');\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			element.className=element.className.replace(/( input_erroneous(\\\\\\\$| ))+/g\\\",\\n	',',\\n	\\\"' ');\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n		{\\\\n			setFieldError(element\\\",\\n	',',\\n	\\\"'');\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		element.disabled=locked;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction setRequired(name\\\",\\n	',',\\n	\\\"required)\\\\n{\\\\n	var element=document.getElementById(name);\\\\n	var required_a=document.getElementById('requirea__'+name);\\\\n	var required_b=document.getElementById('requireb__'+name);\\\\n	var required_c=document.getElementById('requirec__'+name);\\\\n	var required_d=document.getElementById('required__'+name);\\\\n	if (element) element.className=element.className.replace(/(input\\\\\\\\_[a-z\\\\\\\\_]+)_required/g\\\",\\n	',',\\n	\\\"'\\\\\\\$1');\\\\n	if (required)\\\\n	{\\\\n		if (element) element.className=element.className.replace(/(input\\\\\\\\_[a-z\\\\\\\\_]+)/g\\\",\\n	',',\\n	\\\"'\\\\\\\$1_required');\\\\n		if (required_a) required_a.className='de_th dottedborder_barrier_a_required';\\\\n		if (required_d) required_d.className='dottedborder_barrier_b_required';\\\\n		if (required_b) required_b.style.display='inline';\\\\n		if (required_c) required_c.value=1;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		var error=document.getElementById('error__'+name);\\\\n		if (error) error.style.display='none';\\\\n		if (required_a) required_a.className='de_th dottedborder_barrier_a_nonrequired';\\\\n		if (required_d) required_d.className='dottedborder_barrier_b_nonrequired';\\\\n		if (required_b) required_b.style.display='none';\\\\n		if (required_c) required_c.value=0;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	if (element)\\\\n	{\\\\n		if (typeof element.swfob!='undefined') element.swfob.settings.required=required;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n// Hide a 'tray' of trs in a form\\\\nfunction toggleSubordinateFields(pic\\\",\\n	',',\\n	\\\"help_id)\\\\n{\\\\n	var new_state\\\",\\n	',',\\n	\\\"new_state_2\\\",\\n	',',\\n	\\\"new_state_3\\\",\\n	',',\\n	\\\"i;\\\\n	var tr=pic.parentNode.parentNode.parentNode;\\\\n	\\\\n	var next=tr.nextSibling;\\\\n	if (!next) return;\\\\n	while (next.nodeName.toLowerCase()!='tr') // Sometimes divs or whatever may have errornously been put in a table by a programmer\\\",\\n	',',\\n	\\\" skip past them\\\\n	{\\\\n		next=next.nextSibling;\\\\n		if (!next) break;\\\\n		if (next.className=='form_screen_field_spacer') // End of section\\\",\\n	',',\\n	\\\" so no need to keep going\\\\n		{\\\\n			next=null;\\\\n			break;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	if (((!next) && (pic.src.indexOf('expand')!=-1)) || ((next) && (next.style.display=='none'))) \\\",\\n	\\\"\\\\n	{\\\\n		pic.src=((pic.src.indexOf(\\\\\\\"themewizard.php\\\\\\\")!=-1)?pic.src.replace(\\\\\\\"expand\\\\\\\"\\\",\\n	',',\\n	\\\"\\\\\\\"contract\\\\\\\"):\\\\\\\"\\\",\\n	ecv(\\\$cl,array(),0,\\\"IMG\\\",array(\\\"contract\\\",\\\"0\\\",\\\"default\\\")),\\n	\\\"\\\\\\\").replace(/^http:/\\\",\\n	',',\\n	\\\"window.location.protocol);\\\\n		pic.setAttribute('alt'\\\",\\n	',',\\n	\\\"'\\\",\\n	ecv(\\\$cl,array(2),2,\\\"CONTRACT\\\",array()),\\n	\\\"');\\\\n		pic.setAttribute('title'\\\",\\n	',',\\n	\\\"'\\\",\\n	ecv(\\\$cl,array(2),2,\\\"CONTRACT\\\",array()),\\n	\\\"');\\\\n		new_state=browser_matches('ie')?'block':'table-row';\\\\n		new_state_2='block';\\\\n		new_state_3='1px dashed';\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else \\\",\\n	\\\"\\\\n	{\\\\n		pic.src=((pic.src.indexOf(\\\\\\\"themewizard.php\\\\\\\")!=-1)?pic.src.replace(\\\\\\\"contract\\\\\\\"\\\",\\n	',',\\n	\\\"\\\\\\\"expand\\\\\\\"):\\\\\\\"\\\",\\n	ecv(\\\$cl,array(),0,\\\"IMG\\\",array(\\\"expand\\\",\\\"0\\\",\\\"default\\\")),\\n	\\\"\\\\\\\").replace(/^http:/\\\",\\n	',',\\n	\\\"window.location.protocol);\\\\n		pic.setAttribute('alt'\\\",\\n	',',\\n	\\\"'\\\",\\n	ecv(\\\$cl,array(2),2,\\\"EXPAND\\\",array()),\\n	\\\"');\\\\n		pic.setAttribute('title'\\\",\\n	',',\\n	\\\"'\\\",\\n	ecv(\\\$cl,array(2),2,\\\"EXPAND\\\",array()),\\n	\\\"');\\\\n		new_state='none';\\\\n		new_state_2='none';\\\\n		new_state_3='0';\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\\n	// Hide everything until we hit end of section\\\\n	var count=0;\\\\n	while (tr.nextSibling)\\\\n	{\\\\n		tr=tr.nextSibling;\\\\n		if (tr.nodeName.toLowerCase()!='tr') continue;\\\\n\\\\n		\\\",\\n	\\\"\\\\n		if (tr.className=='form_screen_field_spacer') break; // End of section\\\\n		\\\\n		\\\",\\n	\\\"\\\\n		tr.style.display=new_state;\\\\n		if (browser_matches('ie6'))\\\\n		{\\\\n			for (i=0;i<tr.cells.length;i++) // Work around IE6 bug (the table borders do not hide so you need to turn them off for hidden cells)\\\\n			{\\\\n				tr.cells[i].style.border=new_state_3;\\\\n				tr.cells[i].style.display=new_state;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n		if ((typeof window.nereidFade!='undefined') && (new_state_2!='none') && (count<50/*Performance*/))\\\\n		{\\\\n			setOpacity(tr\\\",\\n	',',\\n	\\\"0.0);\\\\n			nereidFade(tr\\\",\\n	',',\\n	\\\"100\\\",\\n	',',\\n	\\\"30\\\",\\n	',',\\n	\\\"4);\\\\n			count++;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	if (!help_id) help_id=pic.parentNode.id+'_help';\\\\n	var help=document.getElementById(help_id);\\\\n	while (help)\\\\n	{\\\\n		help.style.display=new_state_2;\\\\n		help=help.nextSibling;\\\\n		if ((help) && (help.nodeName.toLowerCase()!='p')) break;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\\n	trigger_resize();\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction choose_picture(id\\\",\\n	',',\\n	\\\"ob\\\",\\n	',',\\n	\\\"name)\\\\n{\\\\n	var r=document.getElementById(id);\\\\n	if (!r) return;\\\\n	var e=r.form.elements[name];\\\\n	for (var i=0;i<e.length;i++)\\\\n	{\\\\n		var img=e[i].parentNode.parentNode.getElementsByTagName('img')[0];\\\\n		if ((img) && (img!=ob))\\\\n		{\\\\n			img.style.outline='0';\\\\n			if (!browser_matches('ie8+')) img.style.background='none';\\\\n			if (!browser_matches('no_alpha_ie_with_opacity'))\\\\n			{\\\\n				setOpacity(img.parentNode\\\",\\n	',',\\n	\\\"0.5);\\\\n				img.parentNode.onmouseover=function(img) { return function()\\\\n				{\\\\n					setOpacity(img.parentNode\\\",\\n	',',\\n	\\\"1.0);\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	\\\"}\\\",\\n	\\\" (img);\\\\n				img.parentNode.onmouseout=function(img) { return function()\\\\n				{\\\\n					setOpacity(img.parentNode\\\",\\n	',',\\n	\\\"0.5);\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	\\\"}\\\",\\n	\\\" (img);\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	r.checked=true;\\\\n	//if (r.onclick) r.onclick(); causes loop\\\\n	ob.parentNode.onmouseover=function() {\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n	ob.parentNode.onmouseout=function() {\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n	if (typeof r.fakeonchange!='undefined' && r.fakeonchange) r.fakeonchange();\\\\n	if (!browser_matches('no_alpha_ie_with_opacity')) setOpacity(ob.parentNode\\\",\\n	',',\\n	\\\"1.0);\\\\n	ob.style.outline='1px dotted';\\\\n	if (!browser_matches('ie8+')) ob.style.background='green';\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction disable_preview_scripts(under)\\\\n{\\\\n	if (!under) under=document;\\\\n\\\\n	var elements\\\",\\n	',',\\n	\\\"i;\\\\n	var no_go=function() {\\\\n		window.alert('\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"NOT_IN_PREVIEW_MODE\\\",array()),\\n	\\\"');\\\\n		return false;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n	elements=under.getElementsByTagName('button');\\\\n	for (i=0;i<elements.length;i++)\\\\n		elements[i].onclick=no_go;\\\\n	elements=under.getElementsByTagName('input');\\\\n	for (i=0;i<elements.length;i++)\\\\n		if ((elements[i].getAttribute('type')=='button') || (elements[i].getAttribute('type')=='image')) elements[i].onclick=no_go;\\\\n	elements=under.getElementsByTagName('a');\\\\n	for (i=0;i<elements.length;i++)\\\\n		elements[i].target='false_blank'; // Real _blank would trigger annoying CSS. This is better anyway.\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction setUpChangeMonitor(container\\\",\\n	',',\\n	\\\"input\\\",\\n	',',\\n	\\\"container2)\\\\n{\\\\n	var elements=[];\\\\n	if (input)\\\\n	{\\\\n		elements=[document.getElementById(input)];\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		elements=getAllFormElements(container);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	for (var i=0;i<elements.length;i++)\\\\n	{\\\\n		if (!elements[i]) continue;\\\\n		var func=function () {\\\\n			if (findIfChildrenSet(input?document.getElementById(input).parentNode:container))\\\\n			{\\\\n				if (container.className.indexOf(' filledin')==-1) container.className+=' filledin';\\\\n				if (container2) if (container2.className.indexOf(' filledin')==-1) container2.className+=' filledin';\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n			{\\\\n				container.className=container.className.replace(/ filledin\\\\\\\$/\\\",\\n	',',\\n	\\\"'');\\\\n				if (container2) container2.className=container2.className.replace(/ filledin\\\\\\\$/\\\",\\n	',',\\n	\\\"'');\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n		addEventListenerAbstract(elements[i]\\\",\\n	',',\\n	\\\"'blur'\\\",\\n	',',\\n	\\\"func );\\\\n		addEventListenerAbstract(elements[i]\\\",\\n	',',\\n	\\\"'change'\\\",\\n	',',\\n	\\\"func );\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction findIfChildrenSet(container)\\\\n{\\\\n	var value\\\",\\n	',',\\n	\\\"blank=true\\\",\\n	',',\\n	\\\"theElement;\\\\n	var elements=getAllFormElements(container);\\\\n	for (var i=0;i<elements.length;i++)\\\\n	{\\\\n		if (!elements[i]) continue;\\\\n		theElement=elements[i];\\\\n		if (((theElement.type=='hidden') || ((theElement.style.display=='none') && ((typeof window.isWYSIWYGField=='undefined') || (!isWYSIWYGField(theElement))))) && ((!theElement.className) || (theElement.className.indexOf('hidden_but_needed')==-1))) continue;\\\\n		value=cleverFindValue(theElement.form\\\",\\n	',',\\n	\\\"theElement);\\\\n		blank=blank & (value=='');\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	return !blank;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction getAllFormElements(container)\\\\n{\\\\n	var i;\\\\n	var elements1=container.getElementsByTagName('input');\\\\n	var elements2=container.getElementsByTagName('select');\\\\n	var elements3=container.getElementsByTagName('textarea');\\\\n	var elements=[];\\\\n	for (i=0;i<elements1.length;i++) elements.push(elements1[i]);\\\\n	for (i=0;i<elements2.length;i++) elements.push(elements2[i]);\\\\n	for (i=0;i<elements3.length;i++) elements.push(elements3[i]);\\\\n	return elements;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\";\";\n\";}");

?>